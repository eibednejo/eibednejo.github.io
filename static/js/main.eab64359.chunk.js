(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[1],{29:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),n=c(19),r=c.n(n),i=c(10),j=c(20),l=(c(29),c(4)),o=c(14),b=c(24);const u=Object(b.a)("https://crwcuheqaajajmvskpbp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNyd2N1aGVxYWFqYWptdnNrcGJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA5MzIyODcsImV4cCI6MjA2NjUwODI4N30.1t_X-B2v7XD3GPJBOfbqOK4zAWZSQMa2N7fVcnradVI");var d=c(0);var O=()=>{const[e,t]=Object(s.useState)(""),[c,a]=Object(s.useState)(""),[n,r]=Object(s.useState)(null),i=Object(l.g)();return Object(d.jsxs)("div",{className:"fancy-container",children:[Object(d.jsx)("h2",{children:"Login"}),Object(d.jsxs)("form",{className:"fancy-form",onSubmit:async t=>{t.preventDefault(),r(null);const{user:s,error:a}=await u.auth.signIn({email:e,password:c});a?r(a.message):i.push("/")},children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Email:"}),Object(d.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Password:"}),Object(d.jsx)("input",{type:"password",value:c,onChange:e=>a(e.target.value),required:!0})]}),n&&Object(d.jsx)("p",{className:"fancy-message error",children:n}),Object(d.jsx)("button",{type:"submit",children:"Login"})]})]})};var h=()=>{const[e,t]=Object(s.useState)(""),[c,a]=Object(s.useState)(""),[n,r]=Object(s.useState)(null),[i,j]=Object(s.useState)(null);return Object(d.jsxs)("div",{className:"fancy-container",children:[Object(d.jsx)("h2",{children:"Sign Up"}),Object(d.jsxs)("form",{className:"fancy-form",onSubmit:async s=>{s.preventDefault(),r(null),j(null);const{user:n,error:i}=await u.auth.signUp({email:e,password:c});i?r(i.message):(j("Signup successful! Please check your email for confirmation."),t(""),a(""))},children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Email:"}),Object(d.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Password:"}),Object(d.jsx)("input",{type:"password",value:c,onChange:e=>a(e.target.value),required:!0})]}),Object(d.jsx)("button",{type:"submit",children:"Sign Up"})]}),n&&Object(d.jsx)("p",{className:"fancy-message error",children:n}),i&&Object(d.jsx)("p",{className:"fancy-message success",children:i})]})};var p=()=>Object(d.jsxs)("div",{className:"fancy-container",children:[Object(d.jsx)("h1",{children:"Admin Dashboard"}),Object(d.jsx)("p",{children:"Welcome, admin! Here you can manage users, view analytics, and configure settings."})]});var m=()=>{const[e,t]=Object(s.useState)(null),[c,a]=Object(s.useState)(!0),[n,r]=Object(s.useState)(null),[i,j]=Object(s.useState)(""),[l,o]=Object(s.useState)("");Object(s.useEffect)(()=>{(async()=>{const e=u.auth.user();var c;e?(t(e),j((null===(c=e.user_metadata)||void 0===c?void 0:c.name)||""),o(e.email||"")):r("No user found");a(!1)})()},[]);return c?Object(d.jsx)("div",{children:"Loading..."}):n?Object(d.jsxs)("div",{children:["Error: ",n]}):Object(d.jsxs)("div",{className:"fancy-container",children:[Object(d.jsx)("h1",{children:"User Profile"}),Object(d.jsxs)("form",{className:"fancy-form",onSubmit:async e=>{e.preventDefault();const{error:t}=await u.auth.update({data:{name:i}});t?r(t.message):alert("Profile updated successfully!")},children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Name:"}),Object(d.jsx)("input",{type:"text",value:i,onChange:e=>j(e.target.value)})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Email:"}),Object(d.jsx)("input",{type:"email",value:l,readOnly:!0})]}),Object(d.jsx)("button",{type:"submit",children:"Update Profile"})]})]})};var x=()=>Object(d.jsxs)("div",{className:"fancy-container",children:[Object(d.jsx)("h1",{children:"Subscription Management"}),Object(d.jsx)("p",{children:"Manage your subscription plan, payment methods, and billing history here."})]});const f=async e=>{const{data:t,error:c}=await u.storage.from("uploads").upload(e.name,e);if(c)throw new Error(c.message);return t};var g=()=>{const[e,t]=Object(s.useState)(null),[c,a]=Object(s.useState)(null),[n,r]=Object(s.useState)("");return Object(d.jsxs)("div",{className:"fancy-container",children:[Object(d.jsx)("h1",{children:"Chat Interface"}),Object(d.jsxs)("form",{className:"fancy-form",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Upload CSV File"}),Object(d.jsx)("input",{type:"file",accept:".csv",onChange:async e=>{if(!e.target.files)return;const c=e.target.files[0];c&&(t(c),await f(c))}})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Upload Knowledge Base File"}),Object(d.jsx)("input",{type:"file",accept:".txt,.pdf",onChange:async e=>{if(!e.target.files)return;const t=e.target.files[0];t&&(a(t),await f(t))}})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Database Connection"}),Object(d.jsx)("input",{type:"text",value:n,onChange:e=>{r(e.target.value)},placeholder:"Enter database connection string"}),Object(d.jsx)("button",{type:"button",onClick:async()=>{},children:"Connect"})]})]})]})};const v=["component"],y=e=>{let{component:t}=e,c=Object(j.a)(e,v);return Object(d.jsx)(l.b,Object(i.a)(Object(i.a)({},c),{},{render:e=>localStorage.getItem("authToken")?Object(d.jsx)(t,Object(i.a)({},e)):Object(d.jsx)(l.a,{to:"/login"})}))};var S=()=>Object(d.jsx)(o.a,{children:Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{path:"/login",component:O}),Object(d.jsx)(l.b,{path:"/signup",component:h}),Object(d.jsx)(y,{path:"/",exact:!0,component:g}),Object(d.jsx)(y,{path:"/admin",component:p}),Object(d.jsx)(y,{path:"/profile",component:m}),Object(d.jsx)(y,{path:"/subscriptions",component:x}),Object(d.jsx)(l.b,{render:()=>Object(d.jsx)(l.a,{to:"/login"})})]})});r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(S,{})}),document.getElementById("root"))}},[[45,2,3]]]);
//# sourceMappingURL=main.eab64359.chunk.js.map