(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[1],{29:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(19),r=c.n(s),i=c(10),j=c(20),l=c(4),o=c(14),b=(c(29),c(24));const d=Object(b.a)("https://crwcuheqaajajmvskpbp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNyd2N1aGVxYWFqYWptdnNrcGJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA5MzIyODcsImV4cCI6MjA2NjUwODI4N30.1t_X-B2v7XD3GPJBOfbqOK4zAWZSQMa2N7fVcnradVI");var u=c(0);var O=()=>{const[e,t]=Object(n.useState)(""),[c,a]=Object(n.useState)(""),[s,r]=Object(n.useState)(null),i=Object(l.g)();return Object(u.jsxs)("div",{className:"fancy-container",children:[Object(u.jsx)("h2",{children:"Login"}),Object(u.jsxs)("form",{className:"fancy-form",onSubmit:async t=>{t.preventDefault(),r(null);const{user:n,error:a}=await d.auth.signIn({email:e,password:c});a?r(a.message):i.push("/chat")},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Email:"}),Object(u.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Password:"}),Object(u.jsx)("input",{type:"password",value:c,onChange:e=>a(e.target.value),required:!0})]}),s&&Object(u.jsx)("p",{className:"fancy-message error",children:s}),Object(u.jsx)("button",{type:"submit",children:"Login"})]})]})};var h=()=>{const[e,t]=Object(n.useState)(""),[c,a]=Object(n.useState)(""),[s,r]=Object(n.useState)(null),[i,j]=Object(n.useState)(null);return Object(u.jsxs)("div",{className:"fancy-container",children:[Object(u.jsx)("h2",{children:"Sign Up"}),Object(u.jsxs)("form",{className:"fancy-form",onSubmit:async n=>{n.preventDefault(),r(null),j(null);const{user:s,error:i}=await d.auth.signUp({email:e,password:c});i?r(i.message):(j("Signup successful! Please check your email for confirmation."),t(""),a(""))},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Email:"}),Object(u.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Password:"}),Object(u.jsx)("input",{type:"password",value:c,onChange:e=>a(e.target.value),required:!0})]}),Object(u.jsx)("button",{type:"submit",children:"Sign Up"})]}),s&&Object(u.jsx)("p",{className:"fancy-message error",children:s}),i&&Object(u.jsx)("p",{className:"fancy-message success",children:i})]})};var p=()=>Object(u.jsxs)("div",{className:"fancy-container",children:[Object(u.jsx)("h1",{children:"Admin Dashboard"}),Object(u.jsx)("p",{children:"Welcome, admin! Here you can manage users, view analytics, and configure settings."}),Object(u.jsx)("section",{children:Object(u.jsx)("h2",{children:"User Management"})}),Object(u.jsx)("section",{children:Object(u.jsx)("h2",{children:"Subscription Management"})})]});var m=()=>{const[e,t]=Object(n.useState)(null),[c,a]=Object(n.useState)(!0),[s,r]=Object(n.useState)(null),[i,j]=Object(n.useState)(""),[l,o]=Object(n.useState)("");Object(n.useEffect)(()=>{(async()=>{const e=d.auth.user();var c;e?(t(e),j((null===(c=e.user_metadata)||void 0===c?void 0:c.name)||""),o(e.email||"")):r("No user found");a(!1)})()},[]);return c?Object(u.jsx)("div",{children:"Loading..."}):s?Object(u.jsxs)("div",{children:["Error: ",s]}):Object(u.jsxs)("div",{className:"fancy-container",children:[Object(u.jsx)("h1",{children:"User Profile"}),Object(u.jsxs)("form",{className:"fancy-form",onSubmit:async e=>{e.preventDefault();const{error:t}=await d.auth.update({data:{name:i}});t?r(t.message):alert("Profile updated successfully!")},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Name:"}),Object(u.jsx)("input",{type:"text",value:i,onChange:e=>j(e.target.value)})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Email:"}),Object(u.jsx)("input",{type:"email",value:l,readOnly:!0})]}),Object(u.jsx)("button",{type:"submit",children:"Update Profile"})]})]})};var x=()=>Object(u.jsxs)("div",{className:"fancy-container",children:[Object(u.jsx)("h1",{children:"Subscription Plans"}),Object(u.jsx)("ul",{children:[{id:1,name:"Basic Plan",price:"$10/month"},{id:2,name:"Standard Plan",price:"$20/month"},{id:3,name:"Premium Plan",price:"$30/month"}].map(e=>Object(u.jsxs)("li",{children:[Object(u.jsx)("h2",{children:e.name}),Object(u.jsx)("p",{children:e.price}),Object(u.jsx)("button",{onClick:()=>{return t=e.id,void console.log("Selected plan ID: ".concat(t));var t},children:"Select"})]},e.id))})]});const f=async e=>{const{data:t,error:c}=await d.storage.from("uploads").upload(e.name,e);if(c)throw new Error(c.message);return t};var v=()=>{const[e,t]=Object(n.useState)(null),[c,a]=Object(n.useState)(null),[s,r]=Object(n.useState)("");return Object(u.jsxs)("div",{className:"fancy-container",children:[Object(u.jsx)("h1",{children:"Chat Interface"}),Object(u.jsxs)("form",{className:"fancy-form",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Upload CSV File"}),Object(u.jsx)("input",{type:"file",accept:".csv",onChange:async e=>{if(!e.target.files)return;const c=e.target.files[0];c&&(t(c),await f(c))}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Upload Knowledge Base File"}),Object(u.jsx)("input",{type:"file",accept:".txt,.pdf",onChange:async e=>{if(!e.target.files)return;const t=e.target.files[0];t&&(a(t),await f(t))}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Database Connection"}),Object(u.jsx)("input",{type:"text",value:s,onChange:e=>{r(e.target.value)},placeholder:"Enter database connection string"}),Object(u.jsx)("button",{type:"button",onClick:async()=>{},children:"Connect"})]})]})]})};const g=["component"],y=e=>{let{component:t}=e,c=Object(j.a)(e,g);return Object(u.jsx)(l.b,Object(i.a)(Object(i.a)({},c),{},{render:e=>localStorage.getItem("authToken")?Object(u.jsx)(t,Object(i.a)({},e)):Object(u.jsx)(l.a,{to:"/login"})}))};var S=()=>Object(u.jsx)(o.a,{children:Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{path:"/login",component:O}),Object(u.jsx)(l.b,{path:"/signup",component:h}),Object(u.jsx)(y,{path:"/",exact:!0,component:v}),Object(u.jsx)(y,{path:"/admin",component:p}),Object(u.jsx)(y,{path:"/profile",component:m}),Object(u.jsx)(y,{path:"/subscriptions",component:x}),Object(u.jsx)(l.b,{render:()=>Object(u.jsx)(l.a,{to:"/login"})})]})});r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(S,{})}),document.getElementById("root"))}},[[45,2,3]]]);
//# sourceMappingURL=main.e396b758.chunk.js.map